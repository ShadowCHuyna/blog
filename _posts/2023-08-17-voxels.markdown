---
layout: post
title:  "Физика на клеточных автоматах, воксели!"
date:   2023-08-17
description: "физика в воксельном мире с помощью клеточных автоматов и GLSL-шейдеров. Экспериментальная песочница с гравитацией, песком и водой, реализованная на WebGL TS. Вдохновлено Noita, автоматами падающего песка и 2D liquid simulation. Демка на itch.io и исходники на GitHub."
---
Это достаточно старый мой проект, но довольно интересный. Если задуматься, атомы в реальности можно представить как «воксели», и если задать им простые правила — можно получить что-то вроде гравитации, воды и прочей «физики».

Я решил попробовать эту идею на практике и сделал маленькую воксельную демку, где всё поведение основано на клеточных автоматах. Правила у всех одинаковые, поэтому я загнал всю логику прямо в шейдеры на GLSL — GPU такое любит, и обновление мира происходит очень быстро.

Гравитация сделана довольно глупо: для твёрдых тел по сути я создаю градиент касания с землёй, и если воксель касается земли, он не равен 0. Песок сделан довольно просто — вот статейка, немного не в тему: [«Создание процедурной анимации смерти при помощи автоматов падающего песка»](https://habr.com/ru/articles/534544/). С водой немного сложнее — вот [статейка](https://www.jgallant.com/2d-liquid-simulator-with-cellular-automaton-in-unity/). Эти статьи про 2D-автоматы, но расширить до 3D не сложно. Как пример игры в этой тематике (которой я вдохновлялся): [Noita](https://store.steampowered.com/app/881100/Noita/).

Получилась такая экспериментальная песочница.  
[Демка на itch.io](https://potatom.itch.io/voxel-world-test) | [GitHub](https://github.com/ShadowCHuyna/voxel_sand_box)

{% include youtube.html id="1s4_Tpb0X_M" %}